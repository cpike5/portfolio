<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BackToTop Component - cpike.ca</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../tokens.css">
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="components.css">
    <style>
        .demo-scroll-area {
            height: 400px;
            overflow-y: scroll;
            border: 1px solid rgba(183, 65, 254, 0.2);
            border-radius: 8px;
            background: rgba(35, 41, 51, 0.6);
            position: relative;
        }

        .demo-scroll-content {
            padding: 2rem;
            min-height: 1200px;
        }

        .scroll-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(183, 65, 254, 0.05);
            border-radius: 4px;
        }

        .demo-back-to-top {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
        }
    </style>
</head>
<body>
    <!-- Desktop Navigation -->
    <nav class="navbar">
        <ul class="nav-links">
            <li><a href="index.html">Components</a></li>
            <li><a href="back-to-top.html" class="active">BackToTop</a></li>
        </ul>
    </nav>

    <main class="showcase-container">
        <!-- Component Header -->
        <section class="component-section">
            <div class="component-header">
                <h1 class="component-name">BackToTop</h1>
                <p class="component-description">
                    Floating button that appears after scrolling past a threshold and smoothly scrolls back to the top.
                    Features CSS-drawn arrow icon and hover elevation effect.
                </p>
                <div class="component-meta">
                    <span class="phase-badge phase-2">Phase 2</span>
                    <span class="component-tag">Interactive</span>
                    <span class="component-tag">Navigation</span>
                </div>
            </div>

            <!-- Live Demo -->
            <div class="demo-container">
                <h2 class="demo-title">Static Button</h2>
                <div class="demo-item" style="text-align: center; padding: 3rem;">
                    <button class="back-to-top visible" aria-label="Back to top" style="position: relative; bottom: 0; right: 0;">
                    </button>
                    <p style="margin-top: 1.5rem; color: var(--color-text); font-size: 0.9rem;">
                        Hover to see elevation effect
                    </p>
                </div>
            </div>

            <!-- Size Variants -->
            <div class="demo-container">
                <h2 class="demo-title">Responsive Sizes</h2>
                <div class="variant-showcase">
                    <div class="variant-item">
                        <button class="back-to-top visible" aria-label="Back to top" style="position: relative; bottom: 0; right: 0; width: 48px; height: 48px;">
                        </button>
                        <p class="variant-label">Desktop (48px × 48px)</p>
                    </div>

                    <div class="variant-item">
                        <button class="back-to-top visible" aria-label="Back to top" style="position: relative; bottom: 0; right: 0; width: 44px; height: 44px;">
                        </button>
                        <p class="variant-label">Tablet (44px × 44px)</p>
                    </div>

                    <div class="variant-item">
                        <button class="back-to-top visible" aria-label="Back to top" style="position: relative; bottom: 0; right: 0; width: 40px; height: 40px;">
                        </button>
                        <p class="variant-label">Mobile (40px × 40px)</p>
                    </div>
                </div>
            </div>

            <!-- Interactive Scroll Demo -->
            <div class="demo-container">
                <h2 class="demo-title">Interactive Scroll Demo</h2>
                <div class="demo-item" style="padding: 0;">
                    <div class="demo-scroll-area" id="scrollDemo">
                        <div class="demo-scroll-content">
                            <div class="scroll-section" id="scrollTop">
                                <h3 style="color: var(--color-primary); margin: 0 0 1rem 0;">Top of Content</h3>
                                <p style="color: var(--color-text); margin: 0;">Scroll down to see the "Back to Top" button appear.</p>
                            </div>

                            <div class="scroll-section">
                                <h3 style="color: var(--color-primary); margin: 0 0 1rem 0;">Section 1</h3>
                                <p style="color: var(--color-text); margin: 0;">Continue scrolling...</p>
                            </div>

                            <div class="scroll-section">
                                <h3 style="color: var(--color-primary); margin: 0 0 1rem 0;">Section 2</h3>
                                <p style="color: var(--color-text); margin: 0;">Keep going...</p>
                            </div>

                            <div class="scroll-section">
                                <h3 style="color: var(--color-primary); margin: 0 0 1rem 0;">Section 3</h3>
                                <p style="color: var(--color-text); margin: 0;">Almost there...</p>
                            </div>

                            <div class="scroll-section">
                                <h3 style="color: var(--color-primary); margin: 0 0 1rem 0;">Bottom</h3>
                                <p style="color: var(--color-text); margin: 0;">You should see the button now! Click it to scroll back up.</p>
                            </div>
                        </div>

                        <button class="back-to-top demo-back-to-top" id="demoBackToTop" aria-label="Back to top"></button>
                    </div>
                    <p style="margin-top: 1rem; color: var(--color-text); font-size: 0.9rem; text-align: center;">
                        Scroll within the demo area to trigger the button
                    </p>
                </div>
            </div>

            <!-- Code Example -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">HTML Structure</span>
                </div>
                <pre class="code-content">&lt;button id="backToTop" class="back-to-top" aria-label="Back to top"&gt;&lt;/button&gt;

&lt;!-- With visible class (added by JavaScript) --&gt;
&lt;button id="backToTop" class="back-to-top visible" aria-label="Back to top"&gt;&lt;/button&gt;</pre>
            </div>

            <!-- JavaScript -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">JavaScript Implementation</span>
                </div>
                <pre class="code-content">const backToTopButton = document.getElementById('backToTop');
const hero = document.getElementById('home');

if (backToTopButton && hero) {
    // Show/hide based on scroll position
    window.addEventListener('scroll', () => {
        const heroRect = hero.getBoundingClientRect();
        if (heroRect.bottom < 0) {
            backToTopButton.classList.add('visible');
        } else {
            backToTopButton.classList.remove('visible');
        }
    });

    // Scroll to top on click
    backToTopButton.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
}</pre>
            </div>

            <!-- CSS Reference -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">CSS Classes & Styling</span>
                </div>
                <pre class="code-content">Classes:
  .back-to-top     - Button base styling
  .visible         - Shows the button (opacity: 1, visibility: visible)

Button Styling:
  • Position: fixed (bottom: 2rem, right: 2rem)
  • Size: 48px × 48px (responsive)
  • Background: var(--color-primary)
  • Border-radius: 50% (circular)
  • Z-index: 99
  • Initially hidden (opacity: 0, visibility: hidden)

Arrow Icon (CSS):
  • ::before pseudo-element
  • 12px × 12px
  • Border-left & border-top: 2px
  • Transform: rotate(45deg)
  • Color: var(--color-background)
  • Margin-top: 4px (centers vertically)

Hover State:
  • Background: var(--color-primary-hover)
  • Transform: translateY(-3px)

Transitions:
  • All properties: 0.3s ease
  • Smooth fade in/out

Responsive Sizes:
  • Desktop: 48px × 48px, bottom/right: 2rem
  • Tablet: 44px × 44px, bottom/right: 1.5rem
  • Mobile: 40px × 40px, bottom/right: 1rem

Styling Reference:
  styles.css:1120-1158</pre>
            </div>

            <!-- Props/Attributes -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">Blazor Component Props</span>
                </div>
                <pre class="code-content">Proposed Props:

ScrollThreshold (int)
  - Pixels scrolled before showing (default: hero section)

SmoothScroll (bool)
  - Use smooth scroll behavior (default: true)

ShowButton (bool)
  - Control visibility programmatically

CssClass (string)
  - Additional CSS classes</pre>
            </div>

            <!-- Implementation Notes -->
            <div class="demo-container">
                <h2 class="demo-title">Implementation Notes</h2>
                <div class="code-content" style="white-space: normal; line-height: 1.8;">
                    <strong style="color: var(--color-primary);">Behavior:</strong><br>
                    • Hidden initially<br>
                    • Appears when scrolled past hero section<br>
                    • Smooth scroll to top on click<br>
                    • Fixed positioning (always visible when shown)<br><br>

                    <strong style="color: var(--color-primary);">Design:</strong><br>
                    • Circular button for minimal footprint<br>
                    • CSS-drawn arrow (no images/icons)<br>
                    • Primary color for brand consistency<br>
                    • Hover lift for visual feedback<br><br>

                    <strong style="color: var(--color-primary);">Performance:</strong><br>
                    • GPU-accelerated transforms<br>
                    • Debounced scroll event (if needed)<br>
                    • Fade in/out with visibility for performance<br><br>

                    <strong style="color: var(--color-primary);">Accessibility:</strong><br>
                    • aria-label for screen readers<br>
                    • Keyboard accessible (Tab + Enter)<br>
                    • Focus states visible<br>
                    • Large touch target (48px minimum)<br><br>

                    <strong style="color: var(--color-primary);">Mobile:</strong><br>
                    • Reduced size on smaller screens<br>
                    • Positioned away from edges<br>
                    • Touch-friendly target size<br>
                    • Doesn't obstruct content
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p class="footer-text">© 2025 cpike</p>
        <a href="index.html" class="footer-link">← Back to Components</a>
    </footer>

    <script>
        // Demo scroll functionality
        const scrollDemo = document.getElementById('scrollDemo');
        const demoBackToTop = document.getElementById('demoBackToTop');
        const scrollTop = document.getElementById('scrollTop');

        if (scrollDemo && demoBackToTop && scrollTop) {
            scrollDemo.addEventListener('scroll', () => {
                const scrollTopRect = scrollTop.getBoundingClientRect();
                const containerRect = scrollDemo.getBoundingClientRect();

                // Show button if scrolled past the first section
                if (scrollTopRect.bottom < containerRect.top) {
                    demoBackToTop.classList.add('visible');
                } else {
                    demoBackToTop.classList.remove('visible');
                }
            });

            demoBackToTop.addEventListener('click', () => {
                scrollDemo.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
    </script>
</body>
</html>
