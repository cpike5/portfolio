<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextArea Component - cpike.ca</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../tokens.css">
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="components.css">
</head>
<body>
    <!-- Desktop Navigation -->
    <nav class="navbar">
        <ul class="nav-links">
            <li><a href="index.html">Components</a></li>
            <li><a href="text-area.html" class="active">TextArea</a></li>
        </ul>
    </nav>

    <main class="showcase-container">
        <!-- Component Header -->
        <section class="component-section">
            <div class="component-header">
                <h1 class="component-name">TextArea</h1>
                <p class="component-description">
                    Multi-line text input with character counter that provides visual feedback at threshold limits.
                    Includes validation states and resizable behavior.
                </p>
                <div class="component-meta">
                    <span class="phase-badge phase-3">Phase 3</span>
                    <span class="component-tag">Form</span>
                    <span class="component-tag">Input</span>
                </div>
            </div>

            <!-- Live Demo -->
            <div class="demo-container">
                <h2 class="demo-title">Default TextArea</h2>
                <div class="demo-item" style="max-width: 600px; margin: 0 auto;">
                    <div class="form-group">
                        <label for="demo-message" class="form-label">Message</label>
                        <textarea
                            id="demo-message"
                            placeholder="Enter your message"
                            maxlength="500"
                            class="form-input form-textarea"
                            aria-required="true"
                            aria-invalid="false"
                        ></textarea>
                        <div class="form-meta">
                            <span class="form-error" id="demo-message-error"></span>
                            <span class="char-counter" id="demo-char-counter">500 characters remaining</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Character Counter States -->
            <div class="demo-container">
                <h2 class="demo-title">Character Counter States</h2>
                <div class="demo-grid">
                    <div class="demo-item">
                        <p class="demo-label">Normal (plenty of room)</p>
                        <div class="form-group">
                            <label for="counter-normal" class="form-label">Message</label>
                            <textarea
                                id="counter-normal"
                                class="form-input form-textarea"
                                maxlength="500"
                                style="min-height: 100px;"
                            >Short message</textarea>
                            <div class="form-meta">
                                <span class="form-error"></span>
                                <span class="char-counter">487 characters remaining</span>
                            </div>
                        </div>
                    </div>

                    <div class="demo-item">
                        <p class="demo-label">Warning (≤50 remaining)</p>
                        <div class="form-group">
                            <label for="counter-warning" class="form-label">Message</label>
                            <textarea
                                id="counter-warning"
                                class="form-input form-textarea"
                                maxlength="500"
                                style="min-height: 100px;"
                            >Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</textarea>
                            <div class="form-meta">
                                <span class="form-error"></span>
                                <span class="char-counter warning">48 characters remaining</span>
                            </div>
                        </div>
                    </div>

                    <div class="demo-item">
                        <p class="demo-label">Limit (0 remaining)</p>
                        <div class="form-group">
                            <label for="counter-limit" class="form-label">Message</label>
                            <textarea
                                id="counter-limit"
                                class="form-input form-textarea"
                                maxlength="100"
                                style="min-height: 100px;"
                            >This message is exactly at the character limit and cannot accept any more text characters.</textarea>
                            <div class="form-meta">
                                <span class="form-error"></span>
                                <span class="char-counter limit">0 characters remaining</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Validation States -->
            <div class="demo-container">
                <h2 class="demo-title">Validation States</h2>
                <div class="demo-grid">
                    <div class="demo-item">
                        <p class="demo-label">Error State</p>
                        <div class="form-group">
                            <label for="textarea-error" class="form-label">Message</label>
                            <textarea
                                id="textarea-error"
                                class="form-input form-textarea error"
                                maxlength="500"
                                aria-invalid="true"
                                style="min-height: 100px;"
                            ></textarea>
                            <div class="form-meta">
                                <span class="form-error visible">This field is required</span>
                                <span class="char-counter">500 characters remaining</span>
                            </div>
                        </div>
                    </div>

                    <div class="demo-item">
                        <p class="demo-label">Success State</p>
                        <div class="form-group">
                            <label for="textarea-success" class="form-label">Message</label>
                            <textarea
                                id="textarea-success"
                                class="form-input form-textarea success"
                                maxlength="500"
                                aria-invalid="false"
                                style="min-height: 100px;"
                            >This is a valid message that meets all requirements.</textarea>
                            <div class="form-meta">
                                <span class="form-error"></span>
                                <span class="char-counter">451 characters remaining</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Size Variants -->
            <div class="demo-container">
                <h2 class="demo-title">Size Variants</h2>
                <div class="demo-grid">
                    <div class="demo-item">
                        <p class="demo-label">Small (min-height: 100px)</p>
                        <textarea
                            class="form-input form-textarea"
                            placeholder="Small textarea"
                            style="min-height: 100px;"
                        ></textarea>
                    </div>

                    <div class="demo-item">
                        <p class="demo-label">Default (min-height: 150px)</p>
                        <textarea
                            class="form-input form-textarea"
                            placeholder="Default textarea"
                        ></textarea>
                    </div>

                    <div class="demo-item">
                        <p class="demo-label">Large (min-height: 200px)</p>
                        <textarea
                            class="form-input form-textarea"
                            placeholder="Large textarea"
                            style="min-height: 200px;"
                        ></textarea>
                    </div>
                </div>
            </div>

            <!-- Interactive Demo -->
            <div class="demo-container">
                <h2 class="demo-title">Interactive Demo</h2>
                <div class="demo-item" style="max-width: 600px; margin: 0 auto;">
                    <div class="form-group">
                        <label for="interactive-message" class="form-label">Your Message</label>
                        <textarea
                            id="interactive-message"
                            placeholder="Type your message here..."
                            maxlength="500"
                            class="form-input form-textarea"
                            aria-required="true"
                            aria-invalid="false"
                        ></textarea>
                        <div class="form-meta">
                            <span class="form-error" id="interactive-error"></span>
                            <span class="char-counter" id="interactive-counter">500 characters remaining</span>
                        </div>
                    </div>
                    <p style="margin-top: 1rem; color: var(--color-text); font-size: 0.9rem; text-align: center;">
                        Watch the character counter update as you type
                    </p>
                </div>
            </div>

            <!-- Code Example -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">HTML Structure</span>
                </div>
                <pre class="code-content">&lt;div class="form-group"&gt;
    &lt;label for="message" class="form-label"&gt;Message&lt;/label&gt;
    &lt;textarea
        id="message"
        placeholder="Enter your message"
        maxlength="500"
        required
        class="form-input form-textarea"
        aria-required="true"
        aria-invalid="false"
    &gt;&lt;/textarea&gt;
    &lt;div class="form-meta"&gt;
        &lt;span class="form-error" id="messageError"&gt;&lt;/span&gt;
        &lt;span class="char-counter" id="charCounter"&gt;
            500 characters remaining
        &lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre>
            </div>

            <!-- JavaScript -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">JavaScript (Character Counter)</span>
                </div>
                <pre class="code-content">const messageInput = document.getElementById('message');
const charCounter = document.getElementById('charCounter');

function updateCharCounter() {
    const maxLength = 500;
    const currentLength = messageInput.value.length;
    const remaining = maxLength - currentLength;

    // Update counter text
    const plural = remaining !== 1 ? 's' : '';
    charCounter.textContent = `${remaining} character${plural} remaining`;

    // Update counter styling
    charCounter.classList.remove('warning', 'limit');
    if (remaining <= 0) {
        charCounter.classList.add('limit');
    } else if (remaining <= 50) {
        charCounter.classList.add('warning');
    }
}

messageInput.addEventListener('input', updateCharCounter);</pre>
            </div>

            <!-- CSS Reference -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">CSS Classes & Styling</span>
                </div>
                <pre class="code-content">Classes:
  .form-textarea      - Textarea styling
  .form-meta          - Container for error and counter
  .char-counter       - Character counter
  .warning            - Warning state (≤50 remaining)
  .limit              - Limit reached (0 remaining)

TextArea Styling:
  • Extends .form-input styles
  • Resize: vertical (user can resize height)
  • Min-height: 150px

Form Meta:
  • Display: flex
  • Justify-content: space-between
  • Align-items: flex-start
  • Gap: 1rem
  • Flexbox wraps on mobile

Character Counter:
  • Font-size: 0.8rem
  • Color: rgba(224, 224, 224, 0.5)
  • Margin-top: 0.5rem
  • Text-align: right
  • White-space: nowrap

Counter States:
  • Normal: rgba(224, 224, 224, 0.5)
  • Warning: rgb(251, 191, 36) (amber)
  • Limit: rgb(239, 68, 68) (red)

Styling Reference:
  styles.css:858-903</pre>
            </div>

            <!-- Props/Attributes -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">Blazor Component Props</span>
                </div>
                <pre class="code-content">Proposed Props:

Id (string) [Required]
  - Textarea identifier

Label (string) [Required]
  - Label text

Placeholder (string)
  - Placeholder text

Value (string)
  - Textarea value (two-way binding)

MaxLength (int)
  - Character limit (default: 500)

MinHeight (string)
  - Minimum height (default: "150px")

IsRequired (bool)
  - Required field

ErrorMessage (string)
  - Validation error message

IsValid (bool?)
  - Validation state

ShowCounter (bool)
  - Show character counter (default: true)

OnChange (EventCallback&lt;string&gt;)
  - Value change handler

OnBlur (EventCallback)
  - Blur event handler

CssClass (string)
  - Additional CSS classes</pre>
            </div>

            <!-- Implementation Notes -->
            <div class="demo-container">
                <h2 class="demo-title">Implementation Notes</h2>
                <div class="code-content" style="white-space: normal; line-height: 1.8;">
                    <strong style="color: var(--color-primary);">Character Counter:</strong><br>
                    • Updates on every input event<br>
                    • Shows remaining characters (not used)<br>
                    • Visual feedback at thresholds (50, 0)<br>
                    • Prevents input when limit reached (browser native)<br><br>

                    <strong style="color: var(--color-primary);">Resize Behavior:</strong><br>
                    • resize: vertical (user can adjust height)<br>
                    • min-height sets starting size<br>
                    • No max-height (unlimited expansion)<br>
                    • Mobile: Consider resize: none for better UX<br><br>

                    <strong style="color: var(--color-primary);">Counter Colors:</strong><br>
                    • Normal: muted gray (plenty of space)<br>
                    • Warning: amber (≤50 characters)<br>
                    • Limit: red (0 characters)<br>
                    • Smooth color transitions<br><br>

                    <strong style="color: var(--color-primary);">Form Meta Layout:</strong><br>
                    • Flexbox: error on left, counter on right<br>
                    • Wraps on mobile for better layout<br>
                    • Error takes priority (wider space)<br>
                    • Counter nowrap prevents line breaks<br><br>

                    <strong style="color: var(--color-primary);">Accessibility:</strong><br>
                    • maxlength attribute enforces limit<br>
                    • aria-required for required fields<br>
                    • aria-invalid for validation state<br>
                    • Label properly associated<br>
                    • Counter updates announced to screen readers
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p class="footer-text">© 2025 cpike</p>
        <a href="index.html" class="footer-link">← Back to Components</a>
    </footer>

    <script>
        // Character counter for demo
        const demoMessage = document.getElementById('demo-message');
        const demoCharCounter = document.getElementById('demo-char-counter');

        function updateDemoCounter() {
            const maxLength = 500;
            const currentLength = demoMessage.value.length;
            const remaining = maxLength - currentLength;

            const plural = remaining !== 1 ? 's' : '';
            demoCharCounter.textContent = `${remaining} character${plural} remaining`;

            demoCharCounter.classList.remove('warning', 'limit');
            if (remaining <= 0) {
                demoCharCounter.classList.add('limit');
            } else if (remaining <= 50) {
                demoCharCounter.classList.add('warning');
            }
        }

        demoMessage.addEventListener('input', updateDemoCounter);

        // Interactive demo
        const interactiveMessage = document.getElementById('interactive-message');
        const interactiveCounter = document.getElementById('interactive-counter');

        function updateInteractiveCounter() {
            const maxLength = 500;
            const currentLength = interactiveMessage.value.length;
            const remaining = maxLength - currentLength;

            const plural = remaining !== 1 ? 's' : '';
            interactiveCounter.textContent = `${remaining} character${plural} remaining`;

            interactiveCounter.classList.remove('warning', 'limit');
            if (remaining <= 0) {
                interactiveCounter.classList.add('limit');
            } else if (remaining <= 50) {
                interactiveCounter.classList.add('warning');
            }
        }

        interactiveMessage.addEventListener('input', updateInteractiveCounter);
    </script>
</body>
</html>
