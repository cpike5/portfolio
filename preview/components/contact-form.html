<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ContactForm Component - cpike.ca</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../tokens.css">
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="components.css">
</head>
<body>
    <!-- Desktop Navigation -->
    <nav class="navbar">
        <ul class="nav-links">
            <li><a href="index.html">Components</a></li>
            <li><a href="contact-form.html" class="active">ContactForm</a></li>
        </ul>
    </nav>

    <main class="showcase-container">
        <!-- Component Header -->
        <section class="component-section">
            <div class="component-header">
                <h1 class="component-name">ContactForm</h1>
                <p class="component-description">
                    Complete contact form assembly integrating TextInput, TextArea, Button, FormMessage, and FormOverlay components.
                    Includes validation, character counter, loading states, and success feedback.
                </p>
                <div class="component-meta">
                    <span class="phase-badge phase-3">Phase 3</span>
                    <span class="component-tag">Form</span>
                    <span class="component-tag">Composite</span>
                </div>
            </div>

            <!-- Full Interactive Demo -->
            <div class="demo-container">
                <h2 class="demo-title">Complete Contact Form</h2>
                <div class="demo-item" style="max-width: 600px; margin: 0 auto;">
                    <div class="form-message" id="formMessage" role="alert" aria-live="polite"></div>

                    <div class="form-wrapper">
                        <form class="contact-form" id="contactForm" novalidate>
                            <div class="form-group">
                                <label for="name" class="form-label">Name</label>
                                <input
                                    type="text"
                                    name="name"
                                    id="name"
                                    placeholder="Enter your name"
                                    required
                                    autocomplete="name"
                                    class="form-input"
                                    aria-required="true"
                                    aria-invalid="false"
                                >
                                <span class="form-error" id="nameError"></span>
                            </div>

                            <div class="form-group">
                                <label for="email" class="form-label">Email</label>
                                <input
                                    type="email"
                                    name="email"
                                    id="email"
                                    placeholder="Enter your email"
                                    required
                                    autocomplete="email"
                                    class="form-input"
                                    aria-required="true"
                                    aria-invalid="false"
                                >
                                <span class="form-error" id="emailError"></span>
                            </div>

                            <div class="form-group">
                                <label for="message" class="form-label">Message</label>
                                <textarea
                                    name="message"
                                    id="message"
                                    placeholder="Enter your message"
                                    required
                                    maxlength="500"
                                    class="form-input form-textarea"
                                    aria-required="true"
                                    aria-invalid="false"
                                ></textarea>
                                <div class="form-meta">
                                    <span class="form-error" id="messageError"></span>
                                    <span class="char-counter" id="charCounter">500 characters remaining</span>
                                </div>
                            </div>

                            <button type="submit" class="form-submit" id="submitButton">
                                <span class="submit-text">Send Message</span>
                                <span class="submit-loader"></span>
                            </button>
                        </form>

                        <div class="form-overlay" id="formOverlay">
                            <div class="overlay-spinner"></div>
                            <p class="overlay-text">Submitting your message...</p>
                        </div>
                    </div>

                    <div class="success-state" id="successState">
                        <div class="success-icon">✓</div>
                        <h3 class="success-title">Message Sent!</h3>
                        <p class="success-message">
                            Thank you for reaching out. I'll get back to you as soon as possible.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Form States -->
            <div class="demo-container">
                <h2 class="demo-title">Form States</h2>
                <div class="demo-grid">
                    <div class="demo-item">
                        <p class="demo-label">Validation Errors</p>
                        <div class="form-message visible error">
                            Please fix the errors above before submitting.
                        </div>
                        <div class="form-group">
                            <label for="error-name" class="form-label">Name</label>
                            <input
                                type="text"
                                id="error-name"
                                class="form-input error"
                                aria-invalid="true"
                            >
                            <span class="form-error visible">This field is required</span>
                        </div>
                    </div>

                    <div class="demo-item">
                        <p class="demo-label">Success State</p>
                        <div class="success-state visible" style="padding: 2rem;">
                            <div class="success-icon">✓</div>
                            <h3 class="success-title">Message Sent!</h3>
                            <p class="success-message">Thank you for your message.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Code Example -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">HTML Structure</span>
                </div>
                <pre class="code-content">&lt;!-- Form Message --&gt;
&lt;div class="form-message" id="formMessage" role="alert" aria-live="polite"&gt;&lt;/div&gt;

&lt;!-- Form Wrapper --&gt;
&lt;div class="form-wrapper"&gt;
    &lt;form class="contact-form" id="contactForm" novalidate&gt;
        &lt;!-- Name Input --&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="name" class="form-label"&gt;Name&lt;/label&gt;
            &lt;input type="text" id="name" class="form-input" required&gt;
            &lt;span class="form-error" id="nameError"&gt;&lt;/span&gt;
        &lt;/div&gt;

        &lt;!-- Email Input --&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="email" class="form-label"&gt;Email&lt;/label&gt;
            &lt;input type="email" id="email" class="form-input" required&gt;
            &lt;span class="form-error" id="emailError"&gt;&lt;/span&gt;
        &lt;/div&gt;

        &lt;!-- Message TextArea --&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="message" class="form-label"&gt;Message&lt;/label&gt;
            &lt;textarea id="message" class="form-input form-textarea" maxlength="500"&gt;&lt;/textarea&gt;
            &lt;div class="form-meta"&gt;
                &lt;span class="form-error" id="messageError"&gt;&lt;/span&gt;
                &lt;span class="char-counter" id="charCounter"&gt;500 characters remaining&lt;/span&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Submit Button --&gt;
        &lt;button type="submit" class="form-submit"&gt;
            &lt;span class="submit-text"&gt;Send Message&lt;/span&gt;
            &lt;span class="submit-loader"&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/form&gt;

    &lt;!-- Form Overlay --&gt;
    &lt;div class="form-overlay" id="formOverlay"&gt;
        &lt;div class="overlay-spinner"&gt;&lt;/div&gt;
        &lt;p class="overlay-text"&gt;Submitting your message...&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Success State --&gt;
&lt;div class="success-state" id="successState"&gt;
    &lt;div class="success-icon"&gt;✓&lt;/div&gt;
    &lt;h3 class="success-title"&gt;Message Sent!&lt;/h3&gt;
    &lt;p class="success-message"&gt;Thank you for reaching out.&lt;/p&gt;
&lt;/div&gt;</pre>
            </div>

            <!-- Props/Attributes -->
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">Blazor Component Props</span>
                </div>
                <pre class="code-content">Proposed Props:

OnSubmit (EventCallback&lt;FormData&gt;) [Required]
  - Form submission handler

IsSubmitting (bool)
  - Loading state control

SubmitSuccess (bool)
  - Success state control

MaxMessageLength (int)
  - Message character limit (default: 500)

SubmitButtonText (string)
  - Button text (default: "Send Message")

SuccessTitle (string)
  - Success heading (default: "Message Sent!")

SuccessMessage (string)
  - Success text

CssClass (string)
  - Additional CSS classes

FormData Model:
  - Name: string
  - Email: string
  - Message: string</pre>
            </div>

            <!-- Implementation Notes -->
            <div class="demo-container">
                <h2 class="demo-title">Implementation Notes</h2>
                <div class="code-content" style="white-space: normal; line-height: 1.8;">
                    <strong style="color: var(--color-primary);">Validation Flow:</strong><br>
                    1. Validate on blur (individual fields)<br>
                    2. Validate all on submit<br>
                    3. Show form message if errors exist<br>
                    4. Prevent submission if invalid<br><br>

                    <strong style="color: var(--color-primary);">Submission Flow:</strong><br>
                    1. Validate all fields<br>
                    2. Show overlay<br>
                    3. Disable submit button<br>
                    4. Call OnSubmit callback<br>
                    5. On success: hide form, show success state<br>
                    6. On error: hide overlay, show error message<br><br>

                    <strong style="color: var(--color-primary);">Character Counter:</strong><br>
                    • Updates on input event<br>
                    • Shows remaining characters<br>
                    • Warning state at ≤50<br>
                    • Limit state at 0<br><br>

                    <strong style="color: var(--color-primary);">Success State:</strong><br>
                    • Animated check icon<br>
                    • Fades in after submission<br>
                    • Replaces form content<br>
                    • Clear success message<br><br>

                    <strong style="color: var(--color-primary);">Error Handling:</strong><br>
                    • Field-level errors below inputs<br>
                    • Form-level message at top<br>
                    • Clear on focus (field errors)<br>
                    • Clear on new submission (form message)<br><br>

                    <strong style="color: var(--color-primary);">Accessibility:</strong><br>
                    • Proper label associations<br>
                    • ARIA attributes for validation<br>
                    • role="alert" for messages<br>
                    • Keyboard navigable<br>
                    • Screen reader friendly<br><br>

                    <strong style="color: var(--color-primary);">Components Used:</strong><br>
                    • TextInput (name, email)<br>
                    • TextArea (message with counter)<br>
                    • Button (with loading state)<br>
                    • FormMessage (error/success)<br>
                    • FormOverlay (submission state)<br>
                    • LoadingSpinner (in button and overlay)
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p class="footer-text">© 2025 cpike</p>
        <a href="index.html" class="footer-link">← Back to Components</a>
    </footer>

    <script src="../../script.js"></script>
</body>
</html>
